---

layout: post

title: ORM과 SQLMapping

date: 2021-08-20 21:05:23 +0900

categories: Spring

---

ORM과 SQLMapping
---

JAVA 기반 웹 애플리케이션을 구현하면서 RDBMS에 접근하기 위해 필수적으로 사용해야 하는 JDBC에 대해서는 이전에 간단히 포스팅을 했었습니다. 그 내용이 너무 적고, 추가적으로 JPA와 MyBatis 같은 Spring에서 JDBC를 쉽게 사용하는 방법에 대해 공부해보겠습니다.

### JDBC (JAVA DataBase Connectivity) 란?

JDBC는 자바와 데이터베이스를 연결하기 위한 API입니다. 또한 연결 된 데이터베이스에서 원하는 정보를 CRUD 작업을 수행할 수 있습니다.

#### 단점

- 쿼리를 실행하기 전후에 많은 코드를 실행해야합니다.
- 트랜잭션 관리를 해야합니다.
- 예외 처리에 대한 어려움이 있습니다.

### Spring JDBC는?

Spring에서 지원해주는 JDBC는 이러한 JDBC의 사용을 편리하게 바꾸어 제공합니다.

기존의 JDBC는 트랜잭션 관리를 직접해야하고 예외처리에 관한 처리도 해야 합니다. 또한 불필요한 반복이 많습니다.

하지만 Spring JDBC는 이러한 관리는 알아서 해주며, 불필요한 반복이 일어나는 단점도 해결한 형태입니다.

### Persistence Framework

#### 영속화(persist)

데이터를 다루기 위해 불러오고 수정하는 과정을 거치더라도 이 과정은 메모리 위에서 일어나는 일이기에 프로그램을 종료하거나 다른 데이터가 덮어씌워지면 기존에 있던 데이터는 사라지게 됩니다.

그래서 우리는 데이터를 저장하기 위해 특정 공간(파일이나 데이터베이스 등)로 저장한 뒤 후에 그 값을 읽어들이는 방법을 사용하고 있습니다. 이러한 과정을 영속화라고 합니다. 즉 영구적으로 데이터를 저장하는 것입니다.

우리는 데이터를 영속화하는 방법 중 데이터베이스를 이용하려하고, 자바 언어를 기반으로 데이터베이스에 접근하는 것은 JDBC를 이용해야 합니다. 직접 JDBC를 사용할 수 있으며, 그보다 조금 더 편하게 이용할 수 있는 Spring이 제공하는 Spring JDBC또한 사용할 수 있지만, 아예 영속화를 도와주는 프레임워크가 주로 사용됩니다.

그것이 **Persistence Framework**입니다. 대표적으로는 **ORM 방식과 SQL Mapping 방식**이 있습니다. 이 두 가지에 대해 알아보겠습니다.

### ORM

그럼 ORM에 대해서 공부해보겠습니다.

ORM은 Object Relational Mapping의 약자로 자바의 객체와 데이터베이스의 데이터를 Mapping 해주는 방법입니다. 그 결과로 RDBMS를 SQL문으로 다루는 것이 아닌 자바 언어로 다룸으로써 객체지향적인 구조를 활용 할 수 있게 됩니다.

데이터베이스의 데이터와 자바 객체에는 차이가 있습니다. 자바의 객체는 **클래스**를 사용하지만 데이터베이스의 데이터는 **테이블**을 사용합니다. 이로 인해 자바의 객체와 데이터베이스의 데이터는 불일치가 발생하고 이를 해결하기 위해 ORM이 등장했습니다.

ORM은 데이터베이스의 테이블을 자바의 객체로 자동으로 매핑해줍니다. 이 과정에서 객체간의 관계를 바탕으로 자동으로 SQL문을 작성해줍니다.

ORM





// 어떻게 돌아가는지
